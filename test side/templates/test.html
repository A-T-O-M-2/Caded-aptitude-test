<!DOCTYPE html>
<html>
<head>
    <title>Eifta Aptitude Test</title>
    <style>
        /* removes selection */
        body {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        /* doesnt allow to print */
        @media print {
            body {
                display: none;
            }
        }
        
        </style>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/static/test.js"></script>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>
        <img src="/static/fulllogo_nobuffer.jpg" alt="Logo" class="logo">
        Eifta Aptitude Test
    </h1>
    <p class="sticky-div">Time remaining: <span id="timer">##:##</span></p>
    <form method="post" action="{{ url_for('test') }}">
        <input type="hidden" id="start_time" name="start_time" value="">
        <input type="hidden" id="penalty_time" name="penalty_time" value="">
        <input type="hidden" id="tab_switch_counter" name="tab_switch_counter" value="">
        {% for section, questions in test_questions.items() %}
        <h2>{{ section }}</h2>
        {% if section == 'English' %}
            {% if questions %}
                {% for question_or_passage in questions %}
                    {% if question_or_passage.get('passage_text') %}
                    <div class="passage">
                        <p>{{ question_or_passage.passage_text }}</p>
                        {% for question in question_or_passage.questions %}
                        <div class="question">
                            <p>{{ question.text }}</p>
                            {% for option in question.options %}
                            <div>
                                <input type="radio" name="question{{ question.id }}" value="{{ option.id }}">
                                <label>{{ option.text }}</label>
                            </div>
                            {% endfor %}
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <p>No passage-based questions available for the English section.</p>
            {% endif %}
        {% else %}
            {% if questions %}
                {% for question in questions %}
                <div class="question">
                    <p>{{ question.text }}</p>
                    {% for option in question.options %}
                    <div>
                        <input type="radio" name="question{{ question.id }}" value="{{ option.id }}">
                        <label>{{ option.text }}</label>
                    </div>
                    {% endfor %}
                </div>
                {% endfor %}
            {% else %}
                <p>No questions available for the {{ section }} section.</p>
            {% endif %}
        {% endif %}
        {% endfor %}
        <button type="submit">Submit</button>
    </form>
</body>
</html>