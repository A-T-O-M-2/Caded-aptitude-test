<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/static/style.css">
    <title>Test</title>
    <style>
        /* removes selection */
        body {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        /* doesnt allow to print */
        @media print {
            body {
                display: none;
            }
        }
        
    </style>
    <script>
        // right-click disable
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        $(document).ready(function() {
            function disableBack() {
                window.history.forward()
            }
            window.onload = disableBack();
            window.onpageshow = function(evt) {
                if (evt.persisted) disableBack()
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'PrintScreen') {
                alert('This has taken into consideration. One more attempt to take a screenshot, It will be notified to the company.');
            }
        });

        // Clear selection

    </script>
</head>
<body>
    <h1>Test</h1>
    <form method="post" action="{{ url_for('test') }}">
        {% for section, questions in test_questions.items() %}
        <h2>{{ section }}</h2>
        {% if section == 'English' %}
            {% if questions %}
                {% for question_or_passage in questions %}
                    {% if question_or_passage.get('passage_text') %}
                    <div class="passage">
                        <p>{{ question_or_passage.passage_text }}</p>
                        {% for question in question_or_passage.questions %}
                        <div class="question">
                            <p>{{ question.text }}</p>
                            {% for option in question.options %}
                            <div>
                                <input type="radio" name="question{{ question.id }}" value="{{ option.id }}">
                                <label>{{ option.text }}</label>
                            </div>
                            {% endfor %}
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <p>No passage-based questions available for the English section.</p>
            {% endif %}
        {% else %}
            {% if questions %}
                {% for question in questions %}
                <div class="question">
                    <p>{{ question.text }}</p>
                    {% for option in question.options %}
                    <div>
                        <input type="radio" name="question{{ question.id }}" value="{{ option.id }}">
                        <label>{{ option.text }}</label>
                    </div>
                    {% endfor %}
                </div>
                {% endfor %}
            {% else %}
                <p>No questions available for the {{ section }} section.</p>
            {% endif %}
        {% endif %}
        {% endfor %}
        <button type="submit">Submit</button>
    </form>
</body>
</html>